data:
  metadata_file: "tests/data/metadata_test.xlsx"
  root_dir: "tests/data/sample_images/"
  train: "train"
  val: "val"
  test: "test"
  batch_size: 2
  active_populations: [1, 2]

base_model:
  base_model: "resnet50"
  image_size: 224
  pretrained: false
  freeze_encoder: false
  dropout_rate: 0.5
  weight_decay: 0.01

expert_model:
  use: false
  base_model: "efficientnet_v2_l"
  image_size: 480
  pretrained: false
  freeze_encoder: false
  dropout_rate: 0.3
  weight_decay: 0.01

multitask_model:
  use: true
  backbone_model:
    model_name: "resnet50"
    image_size: 224
    pretrained: false
    freeze_encoder: false
    dropout_rate: 0.5
    weight_decay: 0.01
  classifier_head:
    type: "linear"
    dropout_rate: 0.5
  regression_head:
    type: "mlp"
    hidden_dim: 32
    dropout_rate: 0.3
  loss_weighting:
    method: "static"
    static:
      classification: 1.0
      age: 0.5
  log_loss_components: true
  metrics_weights:
    alpha: 0.4
    beta: 0.3
    gamma: 0.3

augmentation:
  rotation: 0
  crop_scale: [1.0, 1.0]
  hflip_prob: 0.0
  vflip_prob: 0.0
  brightness: 0.0
  contrast: 0.0
  saturation: 0.0
  hue: 0.0
  affine_degrees: 0
  affine_translate: [0.0, 0.0]
  affine_scale: [1.0, 1.0]
  affine_shear: 0
  gaussian_blur_kernel: 1

training:
  loss_type:
    - "focal_loss_ageboost"
  stop_after_one_epoch: true
  epochs: 1
  learning_rate: 0.001
  device: "cpu"
  early_stopping_patience: 3
  checkpoint_dir: "test_artifacts/checkpoints" # Relatywne do project_root, ale testy będą to kierować do unique dir

prediction:
  model_path: "test_artifacts/checkpoints/some_test_model.pth"
  image_path: "tests/data/sample_images/test/1/some_image.jpg" # Upewnij się, że taki obraz istnieje w danych testowych
  results_dir: "test_artifacts/results/gradcam"
  show_visualization: false
  save_results: false

prediction_modes:
  navigation:
    image_dir: "tests/data/sample_images/test"

visualization:
  methods: ['gradcam']
  display_mode: 'matrix'
  matrix_cols: 1
  save_individual: false
  target_layer: "base.layer4.2.conv3" # Dla resnet50
  colormap: "jet"
  alpha: 0.5
